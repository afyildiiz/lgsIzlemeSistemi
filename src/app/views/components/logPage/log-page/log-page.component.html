<form [formGroup]="myForm" *ngIf="!teacher">
    <div class="row d-flex justify-content-between">
        <div class="col">
            <h2>{{currentCategory}}</h2>
        </div>
        <!--<div class="col-3">
            <input type="date" class="form-control" formControlName="date" (change)="updateSelectedDate()">
        </div>-->
        <div class="col-3 d-flex justify-content-end">
            <button nbButton outline status="primary" (click)="save()">
                <nb-icon icon="plus-outline"></nb-icon>Kaydet</button>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <table class="mt-3" *ngIf="formArray.value.length">
                <thead>
                    <tr>
                        <th>Hedef Soru</th>
                        <th>Çözülen Soru</th>
                        <th>Doğru Sayısı</th>
                        <th>Yanlış Sayısı</th>
                        <th>Tarih</th>
                    </tr>
                </thead>
                <tbody formArrayName="formArray">
                    <ng-container *ngFor="let group of formArray.controls; let i = index">
                        <tr [formGroupName]="i">
                            <!--<td>
                                <select class="form-control" formControlName="kategori">
                                    <option *ngFor="let category of categories" [value]="category.kategori_id">
                                        {{category.kategori_adi}}</option>
                                </select>
                            </td>-->
                            <td>
                                <input class="form-control" type="number" formControlName="hedef_soru">
                            </td>
                            <td>
                                <input class="form-control" type="number" formControlName="cozulen_soru">
                            </td>
                            <td>
                                <input class="form-control" type="number" formControlName="dogru_sayisi">
                            </td>
                            <td>
                                <input class="form-control" type="number" formControlName="yanlis_sayisi">
                            </td>
                            <td>
                                <input class="form-control" type="date" formControlName="tarih">
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
    </div>
</form>


<form [formGroup]="myForm" *ngIf="teacher">
    <div class="row d-flex justify-content-between">
        <div class="col-3">
            <!--<input type="date" class="form-control" formControlName="date" (change)="updateSelectedDate()">-->
        </div>
        <div class="col-3 d-flex justify-content-end" *ngIf="formArray.controls.length">
            <button nbButton outline status="primary" (click)="insert()">
                <nb-icon icon="plus-outline"></nb-icon>Kaydet</button>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <table class="mt-3" *ngIf="formArray.value.length">
                <thead>
                    <tr>
                        <th>Konu</th>
                        <th>Hedef Soru</th>
                        <th>Tarih</th>
                    </tr>
                </thead>
                <tbody formArrayName="formArray">
                    <ng-container *ngFor="let group of formArray.controls; let i = index">
                        <tr [formGroupName]="i">
                            <td>
                                <select class="form-control" formControlName="kategori">
                                    <option *ngFor="let category of categories" [value]="category.kategori_id">
                                        {{category.kategori_adi}}</option>
                                </select>
                            </td>
                            <td>
                                <input class="form-control" type="number" formControlName="hedef_soru">
                            </td>
                            <!--<td>
                                <input class="form-control" type="number" formControlName="cozulen_soru">
                            </td>
                            <td>
                                <input class="form-control" type="number" formControlName="dogru_sayisi">
                            </td>
                            <td>
                                <input class="form-control" type="number" formControlName="yanlis_sayisi">
                            </td>-->
                            <td>
                                <input class="form-control" type="date" formControlName="tarih">
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row d-flex justify-content-end mt-3">

        <div class="col-3">
            <button nbButton outline status="info" (click)="addGroup()">Kayıt Ekle</button>
        </div>
    </div>
</form>